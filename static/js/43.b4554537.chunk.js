(this["webpackJsonppotion-blog"]=this["webpackJsonppotion-blog"]||[]).push([[43],{1014:function(e,a,t){"use strict";t.r(a);var n=t(897),l=t.n(n),r=t(898),s=t(221),o=t(222),c=t(224),i=t(223),u=t(3),m=t.n(u),p=t(226),d=t(972),b=t(973),f=t(974),g=t(869),h=t(863),v=t(864),E=t(867),k=t(866),N=t(868),j=t(902),y=t(899),O=t.n(y),M=t(879);function C(e){var a=e.post,t="/community/free/".concat(a.id);return m.a.createElement("tr",{key:a.id.toString()},m.a.createElement("td",null,a.id),m.a.createElement("td",null,m.a.createElement(p.Link,{to:t},a.title)),m.a.createElement("td",null,a.views),m.a.createElement("td",null,m.a.createElement(p.Link,{to:t},a.writer_id)),m.a.createElement("td",null,function(e){var a=new Date,t=new Date(e);return a.getFullYear()===t.getFullYear()&&a.getMonth()===t.getMonth()&&a.getDate()===t.getDate()?t.getHours()+":"+t.getMinutes():t.getFullYear()+"."+(t.getMonth()+1)+"."+t.getDate()+"."}(a.write_date)))}var T=function(e){Object(c.a)(t,e);var a=Object(i.a)(t);function t(e){var n,o,c;return Object(s.a)(this,t),(n=a.call(this,e)).getFreeBBSList=Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.a.post("http://localhost:3001/community/get_title_list",{class:"free"}).then((function(e){var a=e.data;a.error?alert("DB\uc5d0\ub7ec"):n.setState({list:a.bbs})})).catch((function(e){console.log("failed",e)}));case 1:case"end":return e.stop()}}),e)}))),n.props.match.params.id&&(o=n.props.match.params.id.split("_")),c=null!=o?parseInt(o[1]):1,n.state={list:null,page:c},n.getFreeBBSList(),n}return Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getFreeBBSList(),console.log(this.state.page)}},{key:"refresh",value:function(e){window.location.href="/#/community/free_"+e,window.location.reload()}},{key:"makePagination",value:function(){for(var e=this,a=Math.ceil(this.state.list.length/15),t=[],n=this.state.page,l=[],r=1;r<n;r++)t.push(r);for(var s=n+1;s<=a;s++)l.push(s);return m.a.createElement(d.a,{className:"d-flex justify-content-center",id:"pagination"},m.a.createElement(b.a,null,m.a.createElement(f.a,{previous:!0,tag:"button"})),t.map((function(a,t){return m.a.createElement(b.a,{key:t},m.a.createElement(f.a,{href:"/#/community/free_"+a,onClick:function(){return e.refresh(a)}},a))})),m.a.createElement(b.a,{active:!0},m.a.createElement(f.a,{href:"/#/community/free_"+n,onClick:function(){return e.refresh(n)}},n)),l.map((function(a,t){return m.a.createElement(b.a,{key:t,onClick:e.test},m.a.createElement(f.a,{href:"/#/community/free_"+a,onClick:function(){return e.refresh(a)}},a))})),m.a.createElement(b.a,null,m.a.createElement(f.a,{next:!0,tag:"button"})))}},{key:"render",value:function(){var e=this,a=this.state.list,t=null,n=null;return t=Object(M.b)()?m.a.createElement(g.a,{color:"primary",size:"sm",className:"card-header-actions",href:"http://localhost:3000/#/community/write"},"New"):m.a.createElement(g.a,{color:"primary",size:"sm",className:"card-header-actions",onClick:function(){alert("\ub85c\uadf8\uc778\uc744 \ud558\uace0 \uc774\uc6a9\ud574 \uc8fc\uc138\uc694")}},"New"),this.state.list&&(n=this.makePagination()),m.a.createElement("div",{className:"animated fadeIn"},m.a.createElement(h.a,null,m.a.createElement(v.a,{xl:"12"},m.a.createElement(E.a,null,m.a.createElement(k.a,null,m.a.createElement("i",{className:"fa fa-align-justify"}),"\uc790\uc720\uac8c\uc2dc\ud310",t),m.a.createElement(N.a,null,m.a.createElement(j.a,{responsive:!0,hover:!0},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",{scope:"col"},"Num"),m.a.createElement("th",{scope:"col"},"Title"),m.a.createElement("th",{scope:"col"},"Views"),m.a.createElement("th",{scope:"col"},"Author"),m.a.createElement("th",{scope:"col"},"Date"))),m.a.createElement("tbody",null,this.state.list?a.filter((function(a,t){return t>=15*(e.state.page-1)&&t<=15*e.state.page-1})).map((function(e,a){return m.a.createElement(C,{key:a,post:e})})):m.a.createElement("tr",null,m.a.createElement("td",null,'("Loading...")')))),n)))))}}]),t}(u.Component);a.default=T},866:function(e,a,t){"use strict";var n=t(35),l=t(97),r=t(3),s=t.n(r),o=t(107),c=t.n(o),i=t(856),u=t.n(i),m=t(857),p={tag:m.p,className:c.a.string,cssModule:c.a.object},d=function(e){var a=e.className,t=e.cssModule,r=e.tag,o=Object(l.a)(e,["className","cssModule","tag"]),c=Object(m.l)(u()(a,"card-header"),t);return s.a.createElement(r,Object(n.a)({},o,{className:c}))};d.propTypes=p,d.defaultProps={tag:"div"},a.a=d},869:function(e,a,t){"use strict";var n=t(35),l=t(97),r=t(858),s=t(62),o=t(3),c=t.n(o),i=t(107),u=t.n(i),m=t(856),p=t.n(m),d=t(857),b={active:u.a.bool,"aria-label":u.a.string,block:u.a.bool,color:u.a.string,disabled:u.a.bool,outline:u.a.bool,tag:d.p,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),onClick:u.a.func,size:u.a.string,children:u.a.node,className:u.a.string,cssModule:u.a.object,close:u.a.bool},f=function(e){function a(a){var t;return(t=e.call(this,a)||this).onClick=t.onClick.bind(Object(r.a)(t)),t}Object(s.a)(a,e);var t=a.prototype;return t.onClick=function(e){this.props.disabled?e.preventDefault():this.props.onClick&&this.props.onClick(e)},t.render=function(){var e=this.props,a=e.active,t=e["aria-label"],r=e.block,s=e.className,o=e.close,i=e.cssModule,u=e.color,m=e.outline,b=e.size,f=e.tag,g=e.innerRef,h=Object(l.a)(e,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);o&&"undefined"===typeof h.children&&(h.children=c.a.createElement("span",{"aria-hidden":!0},"\xd7"));var v="btn"+(m?"-outline":"")+"-"+u,E=Object(d.l)(p()(s,{close:o},o||"btn",o||v,!!b&&"btn-"+b,!!r&&"btn-block",{active:a,disabled:this.props.disabled}),i);h.href&&"button"===f&&(f="a");var k=o?"Close":null;return c.a.createElement(f,Object(n.a)({type:"button"===f&&h.onClick?"button":void 0},h,{className:E,ref:g,onClick:this.onClick,"aria-label":t||k}))},a}(c.a.Component);f.propTypes=b,f.defaultProps={color:"secondary",tag:"button"},a.a=f},902:function(e,a,t){"use strict";var n=t(35),l=t(97),r=t(3),s=t.n(r),o=t(107),c=t.n(o),i=t(856),u=t.n(i),m=t(857),p={className:c.a.string,cssModule:c.a.object,size:c.a.string,bordered:c.a.bool,borderless:c.a.bool,striped:c.a.bool,dark:c.a.bool,hover:c.a.bool,responsive:c.a.oneOfType([c.a.bool,c.a.string]),tag:m.p,responsiveTag:m.p,innerRef:c.a.oneOfType([c.a.func,c.a.string,c.a.object])},d=function(e){var a=e.className,t=e.cssModule,r=e.size,o=e.bordered,c=e.borderless,i=e.striped,p=e.dark,d=e.hover,b=e.responsive,f=e.tag,g=e.responsiveTag,h=e.innerRef,v=Object(l.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),E=Object(m.l)(u()(a,"table",!!r&&"table-"+r,!!o&&"table-bordered",!!c&&"table-borderless",!!i&&"table-striped",!!p&&"table-dark",!!d&&"table-hover"),t),k=s.a.createElement(f,Object(n.a)({},v,{ref:h,className:E}));if(b){var N=Object(m.l)(!0===b?"table-responsive":"table-responsive-"+b,t);return s.a.createElement(g,{className:N},k)}return k};d.propTypes=p,d.defaultProps={tag:"table",responsiveTag:"div"},a.a=d},972:function(e,a,t){"use strict";var n=t(35),l=t(97),r=t(3),s=t.n(r),o=t(107),c=t.n(o),i=t(856),u=t.n(i),m=t(857),p={children:c.a.node,className:c.a.string,listClassName:c.a.string,cssModule:c.a.object,size:c.a.string,tag:m.p,listTag:m.p,"aria-label":c.a.string},d=function(e){var a,t=e.className,r=e.listClassName,o=e.cssModule,c=e.size,i=e.tag,p=e.listTag,d=e["aria-label"],b=Object(l.a)(e,["className","listClassName","cssModule","size","tag","listTag","aria-label"]),f=Object(m.l)(u()(t),o),g=Object(m.l)(u()(r,"pagination",((a={})["pagination-"+c]=!!c,a)),o);return s.a.createElement(i,{className:f,"aria-label":d},s.a.createElement(p,Object(n.a)({},b,{className:g})))};d.propTypes=p,d.defaultProps={tag:"nav",listTag:"ul","aria-label":"pagination"},a.a=d},973:function(e,a,t){"use strict";var n=t(35),l=t(97),r=t(3),s=t.n(r),o=t(107),c=t.n(o),i=t(856),u=t.n(i),m=t(857),p={active:c.a.bool,children:c.a.node,className:c.a.string,cssModule:c.a.object,disabled:c.a.bool,tag:m.p},d=function(e){var a=e.active,t=e.className,r=e.cssModule,o=e.disabled,c=e.tag,i=Object(l.a)(e,["active","className","cssModule","disabled","tag"]),p=Object(m.l)(u()(t,"page-item",{active:a,disabled:o}),r);return s.a.createElement(c,Object(n.a)({},i,{className:p}))};d.propTypes=p,d.defaultProps={tag:"li"},a.a=d},974:function(e,a,t){"use strict";var n=t(35),l=t(97),r=t(3),s=t.n(r),o=t(107),c=t.n(o),i=t(856),u=t.n(i),m=t(857),p={"aria-label":c.a.string,children:c.a.node,className:c.a.string,cssModule:c.a.object,next:c.a.bool,previous:c.a.bool,first:c.a.bool,last:c.a.bool,tag:m.p},d=function(e){var a,t=e.className,r=e.cssModule,o=e.next,c=e.previous,i=e.first,p=e.last,d=e.tag,b=Object(l.a)(e,["className","cssModule","next","previous","first","last","tag"]),f=Object(m.l)(u()(t,"page-link"),r);c?a="Previous":o?a="Next":i?a="First":p&&(a="Last");var g,h=e["aria-label"]||a;c?g="\u2039":o?g="\u203a":i?g="\xab":p&&(g="\xbb");var v=e.children;return v&&Array.isArray(v)&&0===v.length&&(v=null),b.href||"a"!==d||(d="button"),(c||o||i||p)&&(v=[s.a.createElement("span",{"aria-hidden":"true",key:"caret"},v||g),s.a.createElement("span",{className:"sr-only",key:"sr"},h)]),s.a.createElement(d,Object(n.a)({},b,{className:f,"aria-label":h}),v)};d.propTypes=p,d.defaultProps={tag:"a"},a.a=d}}]);
//# sourceMappingURL=43.b4554537.chunk.js.map