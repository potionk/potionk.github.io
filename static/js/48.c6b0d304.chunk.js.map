{"version":3,"sources":["../node_modules/reactstrap/es/CardGroup.js","views/Pages/Login/Login.js","modules/auth.js"],"names":["propTypes","tag","tagPropType","className","PropTypes","string","cssModule","object","CardGroup","props","Tag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","React","createElement","_extends","defaultProps","Login","state","account","password","handleChange","e","setState","target","name","value","handleKeyPress","key","login","a","axios","post","then","res","data","error","errorCode","alert","window","location","reload","loggedInState","isLoggedIn","replace","catch","console","log","md","addonType","type","onChange","this","placeholder","autoComplete","onKeyPress","xs","color","onClick","style","width","to","active","tabIndex","Component","sessionStorage","getItem","setItem","logout","removeItem"],"mappings":"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","file":"static/js/48.c6b0d304.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardGroup = function CardGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-group'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardGroup.propTypes = propTypes;\nCardGroup.defaultProps = defaultProps;\nexport default CardGroup;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, Card, CardBody, CardGroup, Col, Container, Input, InputGroup, InputGroupAddon, InputGroupText, Row } from 'reactstrap';\nimport axios from \"axios\";\nimport {isLoggedIn, login} from '../../../modules/auth';\n\nclass Login extends Component {\n  state = {\n    account: '',\n    password: ''\n  }\n\n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n  handleKeyPress = (e) => {\n    if (e.key === \"Enter\") {\n      this.login();\n    }\n  }\n  login = async () => {\n    axios.post(\"http://localhost:3001/account/login\", {\n      account: this.state.account,\n      password: this.state.password\n    })\n      .then( res => {\n        let data=res.data;\n        if(data.error){\n          switch(data.errorCode){\n            case 1:\n              alert(\"아이디를 입력해주세요.\");\n              window.location.reload();\n              return;\n            case 2:\n              alert(\"비밀번호를 입력해주세요.\");\n              window.location.reload();\n              return;\n            case 3:\n              alert(\"존재하지 않는 계정입니다.\");\n              window.location.reload();\n              return;\n            case 4:\n              alert(\"비밀번호가 올바르지 않습니다.\");\n              window.location.reload();\n              return;\n            case 5:\n              alert(\"DB연결 에러.\");\n              window.location.reload();\n              return;  \n            default:\n              alert(\"잘못된 접근입니다.\")\n              window.location.reload()\n              return\n          }\n        } else {\n          login(data.account, data.loggedInState);\n        }\n        if(!isLoggedIn()) {\n          window.location.reload();\n        }\n        else {\n          window.location.replace(\"/\");\n        }\n      }).catch( error => {\n        console.log('failed', error)\n      })\n  };\n  render() {\n    return (\n      <div className=\"app flex-row align-items-center\" > \n        <Container >\n          <Row className=\"justify-content-center\">\n            <Col md=\"8\">\n              <CardGroup>\n                <Card className=\"p-4\">\n                  <CardBody>\n                    \n                      <h1>Login</h1>\n                      <p className=\"text-muted\">Sign In to your account</p>\n                      <InputGroup className=\"mb-3\">\n                        <InputGroupAddon addonType=\"prepend\">\n                          <InputGroupText>\n                            <i className=\"icon-user\"></i>\n                          </InputGroupText>\n                        </InputGroupAddon>\n                        <Input type=\"text\" onChange={this.handleChange} placeholder=\"Username\" autoComplete=\"username\" name=\"account\"/>\n                      </InputGroup>\n                      <InputGroup className=\"mb-4\">\n                        <InputGroupAddon addonType=\"prepend\">\n                          <InputGroupText>\n                            <i className=\"icon-lock\"></i>\n                          </InputGroupText>\n                        </InputGroupAddon>\n                        <Input type=\"password\" onChange={this.handleChange} placeholder=\"Password\" autoComplete=\"current-password\" name=\"password\" \n                        onKeyPress={this.handleKeyPress}/>\n                      </InputGroup>\n                      <Row>\n                        <Col xs=\"6\">\n                          <Button color=\"primary\" className=\"px-4\" onClick={this.login}>Login</Button>\n                        </Col>\n                        <Col xs=\"6\" className=\"text-right\">\n                          <Button color=\"link\" className=\"px-0\">Forgot password?</Button>\n                        </Col>\n                      </Row>\n                    \n                  </CardBody>\n                </Card>\n                <Card className=\"text-white bg-primary py-5 d-md-down-none\" style={{ width: '44%' }}>\n                  <CardBody className=\"text-center\">\n                    <div>\n                      <h2>Sign up</h2>\n                      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut\n                        labore et dolore magna aliqua.</p>\n                      <Link to=\"/register\">\n                        <Button color=\"primary\" className=\"mt-3\" active tabIndex={-1}>Register Now!</Button>\n                      </Link>\n                    </div>\n                  </CardBody>\n                </Card>\n              </CardGroup>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","export function isLoggedIn() {\n    return sessionStorage.getItem(\"loggedInState\") !== null && sessionStorage.getItem(\"loggedInState\") !== \"undefined\";\n}\n\nexport function login(account, loggedInState) {\n    sessionStorage.setItem(\"account\", account);\n    sessionStorage.setItem(\"loggedInState\", loggedInState);\n}\n\nexport function logout() {\n    sessionStorage.removeItem(\"account\");\n    sessionStorage.removeItem(\"loggedInState\");\n}\n\nexport function getLoggedInAccount() {\n    return sessionStorage.getItem(\"account\");\n}"],"sourceRoot":""}