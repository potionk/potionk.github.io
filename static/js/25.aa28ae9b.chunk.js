(this["webpackJsonppotion-blog"]=this["webpackJsonppotion-blog"]||[]).push([[25],{1015:function(e,t,a){"use strict";a.r(t);var n=a(897),o=a.n(n),r=a(898),s=a(889),c=a(221),l=a(222),i=a(224),u=a(223),d=a(3),m=a.n(d),p=a(869),f=a(984),b=a(983),g=a(863),h=a(864),v=a(867),j=a(866),E=a(868),w=a(918),O=a(968),y=a(900),N=a(890),C=a(901),k=a(899),M=a.n(k),z=a(879);function x(e){return function(e){var t=new Date(e);return t.getFullYear()+"."+(t.getMonth()+1)+"."+t.getDate()+".  "+t.getHours()+":"+t.getMinutes()}(e.post.write_date)}function R(e){var t=e.comment,a=t.writer_id,n=null;return Object(z.a)()===a&&(n=m.a.createElement(p.a,{size:"sm",color:"white",className:"icon mr-1 mb-1"},m.a.createElement("i",{className:"fa fa-remove"}))),m.a.createElement("div",null,m.a.createElement("div",null,m.a.createElement("b",null,t.writer_id,"\xa0"),"(",function(e){var t=new Date(e);return t.getFullYear()+"."+(t.getMonth()+1)+"."+t.getDate()+".  "+t.getHours()+":"+t.getMinutes()}(t.write_date),")\xa0",n),m.a.createElement("div",null,t.contents))}var T=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={loggedInAccount:"",bbsContents:"",commentContents:"",writeComment:""},n.handleChange=function(e){n.setState(Object(s.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.setState({writeComment:""})},n.getFreeBBSList=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M.a.post("http://localhost:3001/community/get_contents",{id:n.props.match.params.id}).then((function(e){var t=e.data;t.error?alert("DB\uc5d0\ub7ec"):n.setState({bbsContents:t.bbsContents,commentContents:t.commentContents})})).catch((function(e){console.log("failed",e)}));case 1:case"end":return e.stop()}}),e)}))),n.write=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M.a.post("http://localhost:3001/community/write_comment",{writer_id:n.state.loggedInAccount,contents:n.state.writeComment,body_id:n.props.match.params.id}).then((function(e){var t=e.data;if(console.log(t),t.error)switch(t.errorCode){case 3:return alert("\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694."),void window.location.reload();default:return alert("\uc798\ubabb\ub41c \uc811\uadfc\uc785\ub2c8\ub2e4."),void window.location.reload()}else alert("\ub313\uae00\uc774 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),window.location.reload()})).catch((function(e){console.log("failed",e)}));case 1:case"end":return e.stop()}}),e)}))),n.deletePost=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M.a.post("http://localhost:3001/community/delete_post",{id:n.props.match.params.id}).then((function(e){var t=e.data;if(console.log(t),t.error)switch(t.errorCode){case 1:return alert("\uac8c\uc2dc\uae00 id\ub97c \uc785\ub825\ud558\uc138\uc694."),void window.location.reload();default:return alert("\uc798\ubabb\ub41c \uc811\uadfc\uc785\ub2c8\ub2e4."),void window.location.reload()}else alert("\uc0ad\uc81c\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),window.location.href="http://localhost:3000/#/community/Free"})).catch((function(e){console.log("failed",e)}));case 1:case"end":return e.stop()}}),e)}))),n.deleteComment=Object(r.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M.a.post("http://localhost:3001/community/delete_comment",{id:n.props.match.params.id}).then((function(e){var t=e.data;if(console.log(t),t.error)switch(t.errorCode){case 1:return alert("\uac8c\uc2dc\uae00 id\ub97c \uc785\ub825\ud558\uc138\uc694."),void window.location.reload();default:return alert("\uc798\ubabb\ub41c \uc811\uadfc\uc785\ub2c8\ub2e4."),void window.location.reload()}else alert("\uc0ad\uc81c\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),window.location.reload()})).catch((function(e){console.log("failed",e)}));case 1:case"end":return e.stop()}}),e)}))),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.setState({loggedInAccount:Object(z.a)()}),this.getFreeBBSList()}},{key:"getComments",value:function(){return this.state.commentContents.map((function(e,t){return m.a.createElement(R,{key:t,comment:e})}))}},{key:"getCounts",value:function(){return console.log(this.state.bbsContents),m.a.createElement("div",null,m.a.createElement("strong",null,"\ub313\uae00 ",this.state.commentContents.length,"\xa0|\xa0\uc870\ud68c\uc218 ",this.state.bbsContents.views,"\xa0"))}},{key:"render",value:function(){var e=this;console.log(this.state),console.log(this.state.bbsContents.writer_id);var t=this.state.bbsContents,a=null;a=Object(z.b)()?m.a.createElement(p.a,{color:"primary",size:"sm",className:"card-header-actions",onClick:this.write},"\ub4f1\ub85d"):m.a.createElement(p.a,{color:"primary",size:"sm",className:"card-header-actions",onClick:function(){alert("\ub85c\uadf8\uc778\uc744 \ud558\uace0 \uc774\uc6a9\ud574 \uc8fc\uc138\uc694")}},"\ub4f1\ub85d");var n=null,o=null;t&&(n=this.getComments(),o=this.getCounts());var r=null;return r=Object(z.a)()===this.state.bbsContents.writer_id?m.a.createElement(p.a,{color:"secondary",onClick:function(){window.confirm("\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&e.deletePost()}},"Delete"):m.a.createElement(p.a,{color:"secondary",onClick:function(){return alert("\uc791\uc131\uc790\ub9cc \uc0ad\uc81c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")}},"Delete"),m.a.createElement("div",null,m.a.createElement(f.a,{className:"justify-content-between"},m.a.createElement(p.a,{color:"secondary",href:"http://localhost:3000/#/community/Free"},"Back"),m.a.createElement(b.a,{className:"card-header-actions"},r,"\xa0",m.a.createElement(p.a,{color:"secondary"},"Edit"))),m.a.createElement("br",null),m.a.createElement("div",{className:"animated fadeIn"},m.a.createElement(g.a,null,m.a.createElement(h.a,{xs:"12",md:"12"},m.a.createElement(v.a,null,m.a.createElement(j.a,null,m.a.createElement("strong",null,t?m.a.createElement("div",null,m.a.createElement("strong",null,t.title),"\xa0|\xa0",m.a.createElement("small",null,t.class),m.a.createElement("small",{className:"card-header-actions"},m.a.createElement("div",{className:"text-muted"},m.a.createElement(x,{post:t})))):"Loading...")),m.a.createElement(E.a,null,m.a.createElement(w.a,{action:"",method:"post",encType:"multipart/form-data",className:"form-horizontal"},m.a.createElement(O.a,{row:!0},m.a.createElement(h.a,{md:"12"},m.a.createElement("strong",null,m.a.createElement("div",null,t?m.a.createElement("div",null,"\uc791\uc131\uc790 : ",t.writer_id):"Loading...")))),m.a.createElement(O.a,{row:!0},m.a.createElement(h.a,{xs:"8",md:"12"},m.a.createElement("div",null,t?m.a.createElement("div",null,t.contents):"Loading..."))),m.a.createElement(O.a,{row:!0},m.a.createElement(h.a,{xs:"8",md:"12"},o)),m.a.createElement("hr",{className:"my-2"}),n,m.a.createElement("br",null),m.a.createElement(O.a,{row:!0},m.a.createElement(h.a,{xs:"12",md:"8"},m.a.createElement(y.a,null,m.a.createElement(N.a,{type:"textarea",name:"writeComment",id:"textarea-input",value:this.state.writeComment,onChange:this.handleChange,size:"16",placeholder:"\ub0b4\uc6a9..."}),"\xa0",m.a.createElement(C.a,{addonType:"append"},a)))))))))))}}]),a}(d.Component);t.default=T},866:function(e,t,a){"use strict";var n=a(35),o=a(97),r=a(3),s=a.n(r),c=a(107),l=a.n(c),i=a(856),u=a.n(i),d=a(857),m={tag:d.p,className:l.a.string,cssModule:l.a.object},p=function(e){var t=e.className,a=e.cssModule,r=e.tag,c=Object(o.a)(e,["className","cssModule","tag"]),l=Object(d.l)(u()(t,"card-header"),a);return s.a.createElement(r,Object(n.a)({},c,{className:l}))};p.propTypes=m,p.defaultProps={tag:"div"},t.a=p},869:function(e,t,a){"use strict";var n=a(35),o=a(97),r=a(858),s=a(62),c=a(3),l=a.n(c),i=a(107),u=a.n(i),d=a(856),m=a.n(d),p=a(857),f={active:u.a.bool,"aria-label":u.a.string,block:u.a.bool,color:u.a.string,disabled:u.a.bool,outline:u.a.bool,tag:p.p,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),onClick:u.a.func,size:u.a.string,children:u.a.node,className:u.a.string,cssModule:u.a.object,close:u.a.bool},b=function(e){function t(t){var a;return(a=e.call(this,t)||this).onClick=a.onClick.bind(Object(r.a)(a)),a}Object(s.a)(t,e);var a=t.prototype;return a.onClick=function(e){this.props.disabled?e.preventDefault():this.props.onClick&&this.props.onClick(e)},a.render=function(){var e=this.props,t=e.active,a=e["aria-label"],r=e.block,s=e.className,c=e.close,i=e.cssModule,u=e.color,d=e.outline,f=e.size,b=e.tag,g=e.innerRef,h=Object(o.a)(e,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);c&&"undefined"===typeof h.children&&(h.children=l.a.createElement("span",{"aria-hidden":!0},"\xd7"));var v="btn"+(d?"-outline":"")+"-"+u,j=Object(p.l)(m()(s,{close:c},c||"btn",c||v,!!f&&"btn-"+f,!!r&&"btn-block",{active:t,disabled:this.props.disabled}),i);h.href&&"button"===b&&(b="a");var E=c?"Close":null;return l.a.createElement(b,Object(n.a)({type:"button"===b&&h.onClick?"button":void 0},h,{className:j,ref:g,onClick:this.onClick,"aria-label":a||E}))},t}(l.a.Component);b.propTypes=f,b.defaultProps={color:"secondary",tag:"button"},t.a=b},873:function(e,t,a){"use strict";var n=a(35),o=a(97),r=a(3),s=a.n(r),c=a(107),l=a.n(c),i=a(856),u=a.n(i),d=a(857),m={tag:d.p,className:l.a.string,cssModule:l.a.object},p=function(e){var t=e.className,a=e.cssModule,r=e.tag,c=Object(o.a)(e,["className","cssModule","tag"]),l=Object(d.l)(u()(t,"input-group-text"),a);return s.a.createElement(r,Object(n.a)({},c,{className:l}))};p.propTypes=m,p.defaultProps={tag:"span"},t.a=p},889:function(e,t,a){"use strict";function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return n}))},890:function(e,t,a){"use strict";var n=a(35),o=a(97),r=a(858),s=a(62),c=a(3),l=a.n(c),i=a(107),u=a.n(i),d=a(856),m=a.n(d),p=a(857),f={children:u.a.node,type:u.a.string,size:u.a.string,bsSize:u.a.string,valid:u.a.bool,invalid:u.a.bool,tag:p.p,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),plaintext:u.a.bool,addon:u.a.bool,className:u.a.string,cssModule:u.a.object},b=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(r.a)(a)),a.focus=a.focus.bind(Object(r.a)(a)),a}Object(s.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.focus=function(){this.ref&&this.ref.focus()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,r=e.type,s=e.bsSize,c=e.valid,i=e.invalid,u=e.tag,d=e.addon,f=e.plaintext,b=e.innerRef,g=Object(o.a)(e,["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"]),h=["radio","checkbox"].indexOf(r)>-1,v=new RegExp("\\D","g"),j=u||("select"===r||"textarea"===r?r:"input"),E="form-control";f?(E+="-plaintext",j=u||"input"):"file"===r?E+="-file":h&&(E=d?null:"form-check-input"),g.size&&v.test(g.size)&&(Object(p.r)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),s=g.size,delete g.size);var w=Object(p.l)(m()(t,i&&"is-invalid",c&&"is-valid",!!s&&"form-control-"+s,E),a);return("input"===j||u&&"function"===typeof u)&&(g.type=r),g.children&&!f&&"select"!==r&&"string"===typeof j&&"select"!==j&&(Object(p.r)('Input with a type of "'+r+'" cannot have children. Please use "value"/"defaultValue" instead.'),delete g.children),l.a.createElement(j,Object(n.a)({},g,{ref:b,className:w}))},t}(l.a.Component);b.propTypes=f,b.defaultProps={type:"text"},t.a=b},900:function(e,t,a){"use strict";var n=a(35),o=a(97),r=a(3),s=a.n(r),c=a(107),l=a.n(c),i=a(856),u=a.n(i),d=a(857),m={tag:d.p,size:l.a.string,className:l.a.string,cssModule:l.a.object},p=function(e){var t=e.className,a=e.cssModule,r=e.tag,c=e.size,l=Object(o.a)(e,["className","cssModule","tag","size"]),i=Object(d.l)(u()(t,"input-group",c?"input-group-"+c:null),a);return s.a.createElement(r,Object(n.a)({},l,{className:i}))};p.propTypes=m,p.defaultProps={tag:"div"},t.a=p},901:function(e,t,a){"use strict";var n=a(35),o=a(97),r=a(3),s=a.n(r),c=a(107),l=a.n(c),i=a(856),u=a.n(i),d=a(857),m=a(873),p={tag:d.p,addonType:l.a.oneOf(["prepend","append"]).isRequired,children:l.a.node,className:l.a.string,cssModule:l.a.object},f=function(e){var t=e.className,a=e.cssModule,r=e.tag,c=e.addonType,l=e.children,i=Object(o.a)(e,["className","cssModule","tag","addonType","children"]),p=Object(d.l)(u()(t,"input-group-"+c),a);return"string"===typeof l?s.a.createElement(r,Object(n.a)({},i,{className:p}),s.a.createElement(m.a,{children:l})):s.a.createElement(r,Object(n.a)({},i,{className:p,children:l}))};f.propTypes=p,f.defaultProps={tag:"div"},t.a=f},918:function(e,t,a){"use strict";var n=a(35),o=a(97),r=a(858),s=a(62),c=a(3),l=a.n(c),i=a(107),u=a.n(i),d=a(856),m=a.n(d),p=a(857),f={children:u.a.node,inline:u.a.bool,tag:p.p,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},b=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(r.a)(a)),a.submit=a.submit.bind(Object(r.a)(a)),a}Object(s.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.submit=function(){this.ref&&this.ref.submit()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,r=e.inline,s=e.tag,c=e.innerRef,i=Object(o.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(p.l)(m()(t,!!r&&"form-inline"),a);return l.a.createElement(s,Object(n.a)({},i,{ref:c,className:u}))},t}(c.Component);b.propTypes=f,b.defaultProps={tag:"form"},t.a=b},968:function(e,t,a){"use strict";var n=a(35),o=a(97),r=a(3),s=a.n(r),c=a(107),l=a.n(c),i=a(856),u=a.n(i),d=a(857),m={children:l.a.node,row:l.a.bool,check:l.a.bool,inline:l.a.bool,disabled:l.a.bool,tag:d.p,className:l.a.string,cssModule:l.a.object},p=function(e){var t=e.className,a=e.cssModule,r=e.row,c=e.disabled,l=e.check,i=e.inline,m=e.tag,p=Object(o.a)(e,["className","cssModule","row","disabled","check","inline","tag"]),f=Object(d.l)(u()(t,!!r&&"row",l?"form-check":"form-group",!(!l||!i)&&"form-check-inline",!(!l||!c)&&"disabled"),a);return s.a.createElement(m,Object(n.a)({},p,{className:f}))};p.propTypes=m,p.defaultProps={tag:"div"},t.a=p},983:function(e,t,a){"use strict";var n=a(35),o=a(97),r=a(3),s=a.n(r),c=a(107),l=a.n(c),i=a(856),u=a.n(i),d=a(857),m={tag:d.p,"aria-label":l.a.string,className:l.a.string,cssModule:l.a.object,role:l.a.string,size:l.a.string,vertical:l.a.bool},p=function(e){var t=e.className,a=e.cssModule,r=e.size,c=e.vertical,l=e.tag,i=Object(o.a)(e,["className","cssModule","size","vertical","tag"]),m=Object(d.l)(u()(t,!!r&&"btn-group-"+r,c?"btn-group-vertical":"btn-group"),a);return s.a.createElement(l,Object(n.a)({},i,{className:m}))};p.propTypes=m,p.defaultProps={tag:"div",role:"group"},t.a=p},984:function(e,t,a){"use strict";var n=a(35),o=a(97),r=a(3),s=a.n(r),c=a(107),l=a.n(c),i=a(856),u=a.n(i),d=a(857),m={tag:d.p,"aria-label":l.a.string,className:l.a.string,cssModule:l.a.object,role:l.a.string},p=function(e){var t=e.className,a=e.cssModule,r=e.tag,c=Object(o.a)(e,["className","cssModule","tag"]),l=Object(d.l)(u()(t,"btn-toolbar"),a);return s.a.createElement(r,Object(n.a)({},c,{className:l}))};p.propTypes=m,p.defaultProps={tag:"div",role:"toolbar"},t.a=p}}]);
//# sourceMappingURL=25.aa28ae9b.chunk.js.map